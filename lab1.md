# 关于case equality===的语义分析

===**主要**表示”所属关系“，直观地说，是“===后面的元素是否可以放入前面的元素构成的集合中”。主要用于case语句中对象的相容比较。

例如：

```ruby
case obj
    when 3..5
    	puts "in 3..5"
   	when String
    	puts "It's a string"
    when Symbol
    	puts "It's a Symbol"
end
```

在when实现的背后，是每个when后面的对象和obj用===进行比较。

**不同的类可能会重写自己的===方法，下面归纳一些常见语义**

具体而言：

1. 对于Range中，用于判断右边的元素是否在左边的集合中

2. 正则表达式中，判断某个字符串是否匹配某个模式

3. Class中的===有自己的方法重写，其语义是判断===后面的对象是否为前面的类的实例。

4. Symbol符号中，直接用来判断两边的符号对象是否相同。

四个例子

```ruby
(1..5) ===5 #情况1
/\d+/==='18373563'  #情况2
String === 's' #情况3
Integer === 3 #情况3
:s ==='s' #情况4，右边根本不是符号对象
```

